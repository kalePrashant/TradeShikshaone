(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[273],{1736:function(e,s,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn/[courseId]/[lessonId]",function(){return o(6069)}])},8744:function(e,s,o){"use strict";o.d(s,{Z:function(){return ProtectedRoute}});var t=o(5893),n=o(7294),r=o(1163),i=o(6266);function ProtectedRoute(e){let{children:s}=e,{currentUser:o,loading:l}=(0,i.a)(),a=(0,r.useRouter)();return((0,n.useEffect)(()=>{l||o||a.push("/login")},[o,l,a]),l||!o)?(0,t.jsx)("div",{children:"Loading..."}):s}},6069:function(e,s,o){"use strict";o.r(s),o.d(s,{default:function(){return CoursePlayer}});var t=o(5893),n=o(7294),r=o(1163),i=o(9008),l=o.n(i),a=o(1664),c=o.n(a),d=o(8744),u=o(6266),h=o(8881),_=o.n(h);function CoursePlayer(){let e=(0,r.useRouter)(),{courseId:s,lessonId:o}=e.query,{currentUser:i}=(0,u.a)(),[a,h]=(0,n.useState)(null),[C,p]=(0,n.useState)(null),[m,x]=(0,n.useState)(!0),[v,y]=(0,n.useState)(0),[j,g]=(0,n.useState)(!1),[P,N]=(0,n.useState)(!1),[w,f]=(0,n.useState)(""),[k,L]=(0,n.useState)("content");(0,n.useEffect)(()=>{s&&o&&fetchCourseData()},[s,o]);let fetchCourseData=async()=>{try{await new Promise(e=>setTimeout(e,1e3));let e={id:s,title:"Advanced Stock Trading Strategies",instructor:"Rahul Sharma",sections:[{id:"s1",title:"Introduction to Trading",lessons:[{id:"l1",title:"Welcome to the Course",duration:"5:20",type:"video",videoUrl:"https://example.com/video1.mp4",completed:!0},{id:"l2",title:"Understanding Market Basics",duration:"12:45",type:"video",videoUrl:"https://example.com/video2.mp4",completed:!0}]},{id:"s2",title:"Technical Analysis",lessons:[{id:"l3",title:"Chart Patterns",duration:"18:30",type:"video",videoUrl:"https://example.com/video3.mp4",completed:!1},{id:"l4",title:"Technical Indicators",duration:"22:15",type:"video",videoUrl:"https://example.com/video4.mp4",completed:!1},{id:"l5",title:"Technical Analysis Quiz",duration:"10:00",type:"quiz",questions:[{id:"q1",question:"Which of the following is NOT a chart pattern?",options:["Head and Shoulders","Double Top","Triple Bottom","Exponential Moving Average"],correctAnswer:3},{id:"q2",question:"What does RSI stand for?",options:["Relative Strength Index","Rapid Stock Indicator","Resistance Support Indicator","Real Stock Investment"],correctAnswer:0}],completed:!1}]},{id:"s3",title:"Fundamental Analysis",lessons:[{id:"l6",title:"Financial Statements",duration:"15:45",type:"video",videoUrl:"https://example.com/video5.mp4",completed:!1},{id:"l7",title:"Valuation Methods",duration:"20:10",type:"video",videoUrl:"https://example.com/video6.mp4",completed:!1}]}]};h(e);let t=null,n=0,r=0;e.sections.forEach(e=>{e.lessons.forEach(e=>{r++,e.completed&&n++,e.id===o&&(t=e)})}),p(t),y(Math.round(n/r*100)),g((null==t?void 0:t.completed)||!1),x(!1)}catch(e){console.error("Error fetching course data:",e),x(!1)}},markAsComplete=async()=>{try{await new Promise(e=>setTimeout(e,500)),g(!0);let o=a.sections.reduce((e,s)=>e+s.lessons.length,0),t=a.sections.reduce((e,s)=>e+s.lessons.filter(e=>e.id===C.id||e.completed).length,0);y(Math.round(t/o*100));let n=!1,r=null;e:for(let e of a.sections)for(let s of e.lessons){if(n){r=s;break e}s.id===C.id&&(n=!0)}r&&setTimeout(()=>{e.push("/learn/".concat(s,"/").concat(r.id))},3e3)}catch(e){console.error("Error marking lesson as complete:",e)}},saveNotes=async()=>{try{await new Promise(e=>setTimeout(e,500)),alert("Notes saved successfully!")}catch(e){console.error("Error saving notes:",e)}};return m?(0,t.jsxs)("div",{className:_().loadingContainer,children:[(0,t.jsx)("div",{className:_().spinner}),(0,t.jsx)("p",{children:"Loading course content..."})]}):C?(0,t.jsx)(d.Z,{children:(0,t.jsxs)("div",{className:_().coursePlayerContainer,children:[(0,t.jsx)(l(),{children:(0,t.jsxs)("title",{children:[C.title," | ",a.title," | TradeShiksha"]})}),(0,t.jsx)("div",{className:_().courseHeader,children:(0,t.jsxs)("div",{className:_().courseHeaderContent,children:[(0,t.jsxs)(c(),{href:"/dashboard",className:_().backLink,children:[(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M19 12H5M5 12L12 19M5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back to Dashboard"]}),(0,t.jsx)("h1",{children:a.title}),(0,t.jsxs)("div",{className:_().progressContainer,children:[(0,t.jsx)("div",{className:_().progressBar,children:(0,t.jsx)("div",{className:_().progressFill,style:{width:"".concat(v,"%")}})}),(0,t.jsxs)("span",{className:_().progressText,children:[v,"% complete"]})]})]})}),(0,t.jsxs)("div",{className:_().courseContent,children:[(0,t.jsx)("div",{className:_().courseSidebar,children:(0,t.jsxs)("div",{className:_().courseInfo,children:[(0,t.jsx)("h2",{children:"Course Content"}),(0,t.jsx)("div",{className:_().sectionsList,children:a.sections.map(e=>(0,t.jsxs)("div",{className:_().section,children:[(0,t.jsx)("h3",{className:_().sectionTitle,children:e.title}),(0,t.jsx)("div",{className:_().lessonsList,children:e.lessons.map(e=>(0,t.jsxs)(c(),{href:"/learn/".concat(s,"/").concat(e.id),className:"".concat(_().lessonItem," ").concat(e.id===C.id?_().activeLesson:""," ").concat(e.completed?_().completedLesson:""),children:[(0,t.jsx)("div",{className:_().lessonStatus,children:e.completed?(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M5 13L9 17L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,t.jsx)("div",{className:_().lessonStatusCircle})}),(0,t.jsxs)("div",{className:_().lessonInfo,children:[(0,t.jsx)("span",{className:_().lessonTitle,children:e.title}),(0,t.jsx)("div",{className:_().lessonMeta,children:(0,t.jsxs)("span",{className:_().lessonType,children:["video"===e.type?(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M15 10L19.5528 7.72361C20.2177 7.39116 21 7.87465 21 8.61803V15.382C21 16.1253 20.2177 16.6088 19.5528 16.2764L15 14M5 18H13C14.1046 18 15 17.1046 15 16V8C15 6.89543 14.1046 6 13 6H5C3.89543 6 3 6.89543 3 8V16C3 17.1046 3.89543 18 5 18Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15M9 5C9 6.10457 9.89543 7 11 7H13C14.1046 7 15 6.10457 15 5M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5M12 12H15M12 16H15M9 12H9.01M9 16H9.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}),(0,t.jsx)("span",{children:e.duration})]})})]})]},e.id))})]},e.id))})]})}),(0,t.jsxs)("div",{className:_().lessonContainer,children:[(0,t.jsxs)("div",{className:_().lessonHeader,children:[(0,t.jsx)("h2",{children:C.title}),(0,t.jsxs)("div",{className:_().lessonMeta,children:[(0,t.jsx)("span",{className:_().lessonType,children:"video"===C.type?"Video Lesson":"Quiz"}),(0,t.jsx)("span",{className:_().lessonDuration,children:C.duration})]})]}),(0,t.jsxs)("div",{className:_().lessonTabs,children:[(0,t.jsx)("button",{className:"".concat(_().tabButton," ").concat("content"===k?_().activeTab:""),onClick:()=>L("content"),children:"Lesson Content"}),(0,t.jsx)("button",{className:"".concat(_().tabButton," ").concat("notes"===k?_().activeTab:""),onClick:()=>L("notes"),children:"My Notes"}),(0,t.jsx)("button",{className:"".concat(_().tabButton," ").concat("discussion"===k?_().activeTab:""),onClick:()=>L("discussion"),children:"Discussion"})]}),(0,t.jsxs)("div",{className:_().lessonContent,children:["content"===k&&(0,t.jsxs)(t.Fragment,{children:["video"===C.type?(0,t.jsxs)("div",{className:_().videoContainer,children:[(0,t.jsxs)("div",{className:_().videoPlaceholder,children:[(0,t.jsx)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M15 10L19.5528 7.72361C20.2177 7.39116 21 7.87465 21 8.61803V15.382C21 16.1253 20.2177 16.6088 19.5528 16.2764L15 14M5 18H13C14.1046 18 15 17.1046 15 16V8C15 6.89543 14.1046 6 13 6H5C3.89543 6 3 6.89543 3 8V16C3 17.1046 3.89543 18 5 18Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsx)("p",{children:"Video Player"})]}),(0,t.jsxs)("div",{className:_().videoControls,children:[(0,t.jsxs)("div",{className:_().controlsLeft,children:[(0,t.jsx)("button",{className:_().playButton,children:(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M5 4.99999V19C5 19.388 5.22446 19.741 5.57584 19.9056C5.92723 20.0702 6.3421 20.0166 6.64018 19.7682L16.5981 11.7682C16.8418 11.5682 16.9829 11.2703 16.9829 10.955C16.9829 10.6397 16.8418 10.3418 16.5981 10.1418L6.64018 2.14176C6.3421 1.89336 5.92723 1.83981 5.57584 2.00435C5.22446 2.1689 5 2.52197 5 2.90999V4.99999Z",fill:"currentColor"})})}),(0,t.jsx)("div",{className:_().volumeControl,children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M15.5355 8.46448C17.4881 10.4171 17.4881 13.5829 15.5355 15.5355M17.6569 6.34314C20.7812 9.46736 20.7812 14.5326 17.6569 17.6568M6.82843 9.17156L11.6569 4.34314C12.0474 3.95262 12.6805 3.95262 13.0711 4.34314C13.4616 4.73367 13.4616 5.36683 13.0711 5.75736L8.24264 10.5858C7.85212 10.9763 7.85212 11.6095 8.24264 12C8.63317 12.3905 9.26633 12.3905 9.65685 12L14.4853 7.17156C14.8758 6.78103 15.509 6.78103 15.8995 7.17156C16.29 7.56208 16.29 8.19525 15.8995 8.58577L11.0711 13.4142C10.6805 13.8047 10.6805 14.4379 11.0711 14.8284C11.4616 15.219 12.0948 15.219 12.4853 14.8284L17.3137 10C17.7042 9.60947 18.3374 9.60947 18.7279 10C19.1184 10.3905 19.1184 11.0237 18.7279 11.4142L13.8995 16.2426C13.509 16.6332 13.509 17.2663 13.8995 17.6569C14.29 18.0474 14.9232 18.0474 15.3137 17.6569L18.7279 14.2426C19.1184 13.8521 19.7516 13.8521 20.1421 14.2426C20.5327 14.6332 20.5327 15.2663 20.1421 15.6569L16.7279 19.0711C15.1658 20.6332 12.6658 20.6332 11.1037 19.0711L4.92893 12.8963C3.36683 11.3342 3.36683 8.83418 4.92893 7.27208L6.82843 9.17156Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,t.jsxs)("span",{className:_().timeDisplay,children:["0:00 / ",C.duration]})]}),(0,t.jsxs)("div",{className:_().controlsRight,children:[(0,t.jsx)("button",{className:_().speedButton,children:"1x"}),(0,t.jsx)("button",{className:_().fullscreenButton,children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M3 16V20C3 20.5523 3.44772 21 4 21H8M21 8V4C21 3.44772 20.5523 3 20 3H16M3 8V4C3 3.44772 3.44772 3 4 3H8M21 16V20C21 20.5523 20.5523 21 20 21H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}):(0,t.jsx)("div",{className:_().quizContainer,children:(0,t.jsx)(Quiz,{questions:C.questions,onSubmit:e=>{let s=0;C.questions.forEach((o,t)=>{e[t]===o.correctAnswer&&s++});let o=Math.round(s/C.questions.length*100);o>=70?(markAsComplete(),alert("Congratulations! You passed the quiz with a score of ".concat(o,"%"))):alert("You scored ".concat(o,"%. You need at least 70% to pass. Please try again."))}})}),!j&&"video"===C.type&&(0,t.jsx)("button",{className:_().completeButton,onClick:markAsComplete,children:"Mark as Complete"})]}),"notes"===k&&(0,t.jsxs)("div",{className:_().notesContainer,children:[(0,t.jsx)("textarea",{className:_().notesTextarea,value:w,onChange:e=>f(e.target.value),placeholder:"Take notes for this lesson..."}),(0,t.jsx)("button",{className:_().saveNotesButton,onClick:saveNotes,children:"Save Notes"})]}),"discussion"===k&&(0,t.jsxs)("div",{className:_().discussionContainer,children:[(0,t.jsxs)("div",{className:_().discussionHeader,children:[(0,t.jsx)("h3",{children:"Discussion"}),(0,t.jsx)("button",{className:_().newQuestionButton,children:"Ask a Question"})]}),(0,t.jsxs)("div",{className:_().emptyDiscussion,children:[(0,t.jsx)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M8 12H8.01M12 12H12.01M16 12H16.01M21 12C21 16.4183 16.9706 20 12 20C10.4607 20 9.01172 19.6565 7.74467 19.0511L3 20L4.39499 16.28C3.51156 15.0423 3 13.5743 3 12C3 7.58172 7.02944 4 12 4C16.9706 4 21 7.58172 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsx)("h3",{children:"No discussions yet"}),(0,t.jsx)("p",{children:"Be the first to start a discussion about this lesson"})]})]})]})]})]})]})}):(0,t.jsxs)("div",{className:_().errorContainer,children:[(0,t.jsx)("h2",{children:"Lesson not found"}),(0,t.jsx)("p",{children:"The lesson you're looking for doesn't exist or you don't have access to it."}),(0,t.jsx)(c(),{href:"/dashboard",className:_().backButton,children:"Back to Dashboard"})]})}function Quiz(e){let{questions:s,onSubmit:o}=e,[r,i]=(0,n.useState)(Array(s.length).fill(null)),[l,a]=(0,n.useState)(0),handleAnswer=(e,s)=>{let o=[...r];o[e]=s,i(o)};return(0,t.jsxs)("div",{className:_().quiz,children:[(0,t.jsxs)("div",{className:_().quizProgress,children:[(0,t.jsxs)("span",{children:["Question ",l+1," of ",s.length]}),(0,t.jsx)("div",{className:_().quizProgressBar,children:(0,t.jsx)("div",{className:_().quizProgressFill,style:{width:"".concat((l+1)/s.length*100,"%")}})})]}),(0,t.jsxs)("div",{className:_().quizQuestion,children:[(0,t.jsx)("h3",{children:s[l].question}),(0,t.jsx)("div",{className:_().quizOptions,children:s[l].options.map((e,s)=>(0,t.jsxs)("div",{className:"".concat(_().quizOption," ").concat(r[l]===s?_().selectedOption:""),onClick:()=>handleAnswer(l,s),children:[(0,t.jsx)("div",{className:_().optionSelector,children:r[l]===s?(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M5 13L9 17L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,t.jsx)("div",{className:_().optionCircle})}),(0,t.jsx)("span",{children:e})]},s))})]}),(0,t.jsxs)("div",{className:_().quizNavigation,children:[(0,t.jsx)("button",{className:_().quizPrevButton,onClick:()=>{l>0&&a(l-1)},disabled:0===l,children:"Previous"}),l<s.length-1?(0,t.jsx)("button",{className:_().quizNextButton,onClick:()=>{l<s.length-1&&a(l+1)},children:"Next"}):(0,t.jsx)("button",{className:_().quizSubmitButton,onClick:()=>{if(r.includes(null)){alert("Please answer all questions before submitting.");return}o(r)},children:"Submit Quiz"})]})]})}},8881:function(e){e.exports={coursePlayerContainer:"CoursePlayer_coursePlayerContainer__khZ1J",loadingContainer:"CoursePlayer_loadingContainer__ncKiL",spinner:"CoursePlayer_spinner__46Tn9",spin:"CoursePlayer_spin___tgxi",errorContainer:"CoursePlayer_errorContainer__DwaJ0",backButton:"CoursePlayer_backButton__ox9PT",courseHeader:"CoursePlayer_courseHeader__acMhw",courseHeaderContent:"CoursePlayer_courseHeaderContent__Cd_Tg",backLink:"CoursePlayer_backLink__t5YyW",progressContainer:"CoursePlayer_progressContainer__oyBBp",progressBar:"CoursePlayer_progressBar__fncay",progressFill:"CoursePlayer_progressFill__l1LDK",progressText:"CoursePlayer_progressText__olJ3R",courseContent:"CoursePlayer_courseContent___dizm",courseSidebar:"CoursePlayer_courseSidebar__CU_G2",courseInfo:"CoursePlayer_courseInfo__0_G7j",sectionsList:"CoursePlayer_sectionsList__xJJcN",section:"CoursePlayer_section__mddcG",sectionTitle:"CoursePlayer_sectionTitle__nbhGy",lessonsList:"CoursePlayer_lessonsList__4TNzV",lessonItem:"CoursePlayer_lessonItem__cU1FZ",activeLesson:"CoursePlayer_activeLesson__MSqPl",completedLesson:"CoursePlayer_completedLesson__u5Bfa",lessonStatus:"CoursePlayer_lessonStatus__I3Snj",lessonStatusCircle:"CoursePlayer_lessonStatusCircle__1CWTD",lessonInfo:"CoursePlayer_lessonInfo__uKxK5",lessonTitle:"CoursePlayer_lessonTitle__miSYF",lessonMeta:"CoursePlayer_lessonMeta__IzHQ7",lessonType:"CoursePlayer_lessonType__38YUm",lessonContainer:"CoursePlayer_lessonContainer__OiU8p",lessonHeader:"CoursePlayer_lessonHeader__tWfJ6",lessonTabs:"CoursePlayer_lessonTabs__L1rxZ",tabButton:"CoursePlayer_tabButton__Z_fDN",activeTab:"CoursePlayer_activeTab__8s8n9",lessonContent:"CoursePlayer_lessonContent__z_YBX",videoContainer:"CoursePlayer_videoContainer__u3N_J",videoPlaceholder:"CoursePlayer_videoPlaceholder__rTsrs",videoControls:"CoursePlayer_videoControls__DEK2J",controlsLeft:"CoursePlayer_controlsLeft__frzBz",controlsRight:"CoursePlayer_controlsRight__eXl3k",playButton:"CoursePlayer_playButton___azkV",speedButton:"CoursePlayer_speedButton__FKWCA",fullscreenButton:"CoursePlayer_fullscreenButton__IxJda",volumeControl:"CoursePlayer_volumeControl__6eOfH",timeDisplay:"CoursePlayer_timeDisplay__7HD51",completeButton:"CoursePlayer_completeButton__eYd8D",quiz:"CoursePlayer_quiz__VJGbN",quizProgress:"CoursePlayer_quizProgress__02Cb2",quizProgressBar:"CoursePlayer_quizProgressBar__X_djR",quizProgressFill:"CoursePlayer_quizProgressFill__oppgl",quizQuestion:"CoursePlayer_quizQuestion__ovLo3",quizOptions:"CoursePlayer_quizOptions__yR_k3",quizOption:"CoursePlayer_quizOption__BBgj2",selectedOption:"CoursePlayer_selectedOption__yTYhL",optionSelector:"CoursePlayer_optionSelector__vqIXx",optionCircle:"CoursePlayer_optionCircle__9_hRy",quizNavigation:"CoursePlayer_quizNavigation__3S4fS",quizPrevButton:"CoursePlayer_quizPrevButton__v_6Qw",quizNextButton:"CoursePlayer_quizNextButton__mLqZ4",quizSubmitButton:"CoursePlayer_quizSubmitButton__GEIUF",notesContainer:"CoursePlayer_notesContainer__nxPXn",notesTextarea:"CoursePlayer_notesTextarea__4rTEl",saveNotesButton:"CoursePlayer_saveNotesButton__Z06lE",discussionContainer:"CoursePlayer_discussionContainer__giSfB",discussionHeader:"CoursePlayer_discussionHeader__ApemK",newQuestionButton:"CoursePlayer_newQuestionButton__pdSma",emptyDiscussion:"CoursePlayer_emptyDiscussion__UITTQ"}},9008:function(e,s,o){e.exports=o(9201)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1736)}),_N_E=e.O()}]);